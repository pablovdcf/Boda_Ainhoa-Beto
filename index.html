<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- Tipografías -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CDN (vale para GitHub Pages) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ["Playfair Display", "serif"],
              sans: ["Inter", "ui-sans-serif", "system-ui"],
            },
            colors: {
              night: "#0B3B4F" /* azul noche */,
              champagne: "#F5E6D3",
              blush: "#F8D9E0",
              ink: "#0f172a",
              gold: "#C4A26A",
            },
            boxShadow: {
              soft: "0 10px 30px rgba(10, 30, 60, .10)",
            },
            backgroundImage: {
              hero: "linear-gradient(135deg, #0B3B4F 0%, #164e63 60%, #2563eb 120%)",
              paper:
                "radial-gradient(1200px 600px at 50% -200px, rgba(255,255,255,.15), transparent 65%)",
            },
          },
        },
      };
    </script>

    <style>
      :root {
        --ring: rgba(196, 162, 106, 0.35);
      }

      .card {
        background: rgba(255, 255, 255, 0.8);
        -webkit-backdrop-filter: blur(16px);
        backdrop-filter: blur(16px);
        border-radius: 1rem;
        /* 2xl */
        box-shadow: 0 10px 30px rgba(10, 30, 60, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.4);
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.75rem 1.25rem;
        border-radius: 9999px;
        font-weight: 500;
        transition: 0.2s ease;
        background: #0b3b4f;
        color: #fff;
      }

      .btn:hover {
        background: #0e4d74;
      }

      .btn-outline {
        background: transparent;
        color: #0b3b4f;
        border: 1px solid #0b3b4f;
      }

      .btn-outline:hover {
        background: #0b3b4f;
        color: #fff;
      }

      .section {
        padding: 4rem 0;
      }

      @media (min-width: 768px) {
        .section {
          padding: 5rem 0;
        }
      }

      .divider {
        height: 32px;
        background: radial-gradient(
            circle at 10px 16px,
            var(--ring) 2px,
            transparent 3px
          )
          0 0/40px 32px repeat-x;
      }

      .floral-divider {
        --floral: #c4a26a;
        /* color */
        height: 40px;
        background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='40' viewBox='0 0 160 40' fill='none'><g stroke='%23C4A26A' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'><path d='M0 28 C35 6, 75 6, 110 20'/><path d='M20 22 c6-6 14-9 22-10'/><path d='M40 26 c4-6 10-10 16-12'/><path d='M60 28 c5-7 12-12 20-14'/><path d='M86 30 c6-6 14-11 23-13'/><path d='M138 24 c6 2 14 1 18-3 -4-6 -12-10 -18-12 -3 5 -4 11 0 15z' fill='%23C4A26A'/></g></svg>")
          center / 160px 40px repeat-x;
      }

      /* Contador minimal */
      .countdown {
        display: inline-flex;
        align-items: flex-end;
        gap: 14px;
        padding: 14px 18px;
        background: rgba(255, 255, 255, 0.55);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(15, 23, 42, 0.06);
        box-shadow: 0 10px 30px rgba(10, 30, 60, 0.08);
        border-radius: 16px;
      }
      .countdown .unit {
        min-width: 72px;
      }
      .countdown .num {
        font-family: "Playfair Display", serif;
        font-weight: 700;
        font-size: 40px;
        line-height: 1;
        letter-spacing: 0.5px;
        color: #0b3b4f;
        transition: opacity 0.35s ease, transform 0.35s ease;
      }
      .countdown .label {
        margin-top: 6px;
        font-size: 12px;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: #64748b;
      }
      .countdown .sep {
        color: #c8cfd9;
        font-size: 22px;
        line-height: 1;
        transform: translateY(-6px);
        user-select: none;
      }

      /* Animación sutil al cambiar (fade + 2px) */
      .num.fade {
        opacity: 0.25;
        transform: translateY(2px);
      }

      /* Responsive fino */
      @media (max-width: 480px) {
        .countdown {
          gap: 10px;
          padding: 10px 12px;
          border-radius: 14px;
        }
        .countdown .unit {
          min-width: 58px;
        }
        .countdown .num {
          font-size: 30px;
        }
        .countdown .sep {
          font-size: 18px;
          transform: translateY(-4px);
        }
      }

      /* Hero styles */
      /* Botones del hero con look “ghost” blanco */
      .btn-hero {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.75rem 1.25rem;
        border-radius: 9999px;
        font-weight: 500;
        border: 1px solid rgba(255, 255, 255, 0.35);
        background: rgba(255, 255, 255, 0.08);
        color: #fff;
        backdrop-filter: blur(6px);
        transition: 0.2s ease;
      }
      .btn-hero:hover {
        background: rgba(255, 255, 255, 0.16);
      }

      .btn-hero-outline {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.75rem 1.25rem;
        border-radius: 9999px;
        font-weight: 500;
        border: 1px solid rgba(255, 255, 255, 0.45);
        color: #fff;
        background: transparent;
        transition: 0.2s ease;
      }
      .btn-hero-outline:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      /* En móviles: algo más de aire arriba/abajo para que respire */
      @media (max-width: 480px) {
        header .text-lg {
          font-size: 1rem;
        }
      }

      /* Itinerario CSS */
      /* Timeline vertical */
      .tl {
        position: relative;
        margin-left: 1rem;
      }
      .tl:before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(#c4a26a66, #0b3b4f22);
        border-radius: 2px;
      }
      .tl-item {
        position: relative;
        margin-left: 1.5rem;
        padding-left: 1rem;
      }
      .tl-bullet {
        position: absolute;
        left: -1.15rem;
        top: 0.35rem;
        width: 18px;
        height: 18px;
        border-radius: 9999px;
        background: #fff;
        border: 2px solid rgba(196, 162, 106, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 10px rgba(10, 30, 60, 0.08);
      }
      .tl-bullet svg {
        width: 12px;
        height: 12px;
      }
      .tl-head {
        display: flex;
        align-items: baseline;
        gap: 0.5rem;
      }
      .tl-time {
        color: #64748b;
        font-size: 0.9rem;
      }
      .tl-title {
        font-weight: 600;
        color: #0b3b4f;
      }

      /* Panel colapsable sin vibraciones */
      .tl-panel {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.35s ease;
      }
      .tl-item.open .tl-panel {
        max-height: 220px;
      } /* suficiente para texto */
      .tl-card {
        margin-top: 0.6rem;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.4);
        border-radius: 14px;
        box-shadow: 0 10px 30px rgba(10, 30, 60, 0.1);
        padding: 14px;
      }

      /* Hover/click feedback sutil */
      .tl-toggle {
        display: flex;
        width: 100%;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        padding: 0.35rem 0;
      }
      .tl-toggle .chev {
        transition: transform 0.25s ease;
        opacity: 0.7;
      }
      .tl-item.open .chev {
        transform: rotate(180deg);
        opacity: 1;
      }

      /* Colores de acento por paso (opcional) */
      .tl-item[data-kind="ceremony"] .tl-bullet {
        border-color: #c4a26a;
      }
      .tl-item[data-kind="cocktail"] .tl-bullet {
        border-color: #f59e0b;
      }
      .tl-item[data-kind="dinner"] .tl-bullet {
        border-color: #0ea5e9;
      }
      .tl-item[data-kind="cake"] .tl-bullet {
        border-color: #f472b6;
      }
      .tl-item[data-kind="party"] .tl-bullet {
        border-color: #22c55e;
      }

      /* Galeria */
      .masonry {
        column-count: 1;
        column-gap: 1rem;
      }
      .masonry a {
        display: block;
        break-inside: avoid;
        margin-bottom: 1rem;
        border-radius: 14px;
        overflow: hidden;
      }
      .masonry img {
        width: 100%;
        display: block;
        transition: transform 0.35s ease;
      }
      .masonry a:hover img {
        transform: scale(1.02);
      }
      @media (min-width: 640px) {
        .masonry {
          column-count: 2;
        }
      }
      @media (min-width: 1024px) {
        .masonry {
          column-count: 3;
        }
      }
      #lbImg {
        max-width: 92vw;
        max-height: 88vh;
        object-fit: contain; /* encaja sin recortar */
        display: block; /* evita inline gaps raros */
        border-radius: 14px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
      }
    </style>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Boda · Ainhoa & Alberto</title>
    <link rel="manifest" href="assets/manifest.json" />
    <link rel="icon" href="assets/icon-192.png" />
    <meta name="theme-color" content="#0b3b4f" />
  </head>

  <body class="bg-slate-50 text-ink">
    <!-- HERO -->
    <header class="relative bg-hero text-white">
      <!-- capa de contraste -->
      <div class="absolute inset-0 bg-black/20 md:bg-black/15"></div>

      <div
        class="relative max-w-3xl mx-auto px-6 pt-16 pb-20 md:pt-24 md:pb-28 text-center"
      >
        <p class="uppercase tracking-[.3em] text-white/80 text-sm">
          ¡Nos casamos!
        </p>

        <h1
          class="font-serif text-5xl md:text-6xl font-bold mt-3 drop-shadow-[0_2px_8px_rgba(0,0,0,.25)]"
        >
          Ainhoa & Alberto
        </h1>

        <p class="mt-4 text-white/85 text-lg">
          10 de Octubre 2026 · Pazo Torre de Xunqueiras · Galicia
        </p>

        <div class="mt-8 flex flex-wrap gap-3 justify-center">
          <a href="invite.html" class="btn-hero">Confirmar asistencia</a>
        </div>
      </div>

      <div class="divider opacity-40"></div>
    </header>

    <!-- DETALLES / TIMELINE VERTICAL -->
    <section id="detalles" class="section bg-white">
      <div class="max-w-3xl mx-auto px-6">
        <h2 class="font-serif text-3xl md:text-4xl mb-8 text-center">
          El plan del día
        </h2>

        <!-- Sprite con iconos (puedes cambiarlos más adelante) -->
        <svg width="0" height="0" style="position: absolute">
          <symbol id="i-ceremony" viewBox="0 0 24 24">
            <path
              fill="#0B3B4F"
              d="M12 2l4 4v4h3v12h-5v-6H10v6H5V10h3V6l4-4zM8 12h8v8h1V11h-3V7.83L12 4.83 10 7.83V11H7v9h1v-8z"
            />
          </symbol>
          <symbol id="i-cocktail" viewBox="0 0 24 24">
            <path
              fill="#0B3B4F"
              d="M2 3h20l-9 9v7h3v2H8v-2h3v-7L2 3zm5.5 2l4.5 4.5L16.5 5H7.5z"
            />
          </symbol>
          <symbol id="i-dinner" viewBox="0 0 24 24">
            <path
              fill="#0B3B4F"
              d="M12 5a7 7 0 0 0-7 7v1h14v-1a7 7 0 0 0-7-7zm-9 9v2h18v-2H3zm8 3v2h2v-2h-2z"
            />
          </symbol>
          <symbol id="i-cake" viewBox="0 0 24 24">
            <path
              fill="#0B3B4F"
              d="M12 2c1.1 0 2 .9 2 2 0 .74-.4 1.38-1 1.73V8h-2V5.73A2 2 0 0 1 10 4c0-1.1.9-2 2-2zM4 10h16v5c-1.5 0-2 .9-3 .9s-1.5-.9-3-.9-2 .9-3 .9-1.5-.9-3-.9-2 .9-3 .9V10zm0 7h16v3H4v-3z"
            />
          </symbol>
          <symbol id="i-party" viewBox="0 0 24 24">
            <path
              fill="#0B3B4F"
              d="M2 22l6-2 8-8-4-4-8 8-2 6zm12.5-14.5l1.5 1.5 3-3-1.5-1.5-3 3zm2.5 4l1.5 1.5 3-3-1.5-1.5-3 3z"
            />
          </symbol>
        </svg>

        <!-- Timeline -->
        <ol id="timeline" class="tl">
          <!-- Se genera por JS -->
        </ol>
      </div>
    </section>

    <!-- Divisor floral centrado -->
    <div class="flex justify-center my-10">
      <svg
        width="520"
        height="40"
        viewBox="0 0 520 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        style="color: var(--floral, #c4a26a)"
      >
        <g
          stroke="currentColor"
          stroke-width="1.6"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <!-- rama izquierda -->
          <path d="M12 28 C70 5, 190 5, 258 20" />
          <path d="M42 22 c6-6 14-9 22-10" />
          <path d="M64 26 c4-6 10-10 16-12" />
          <path d="M86 28 c5-7 12-12 20-14" />
          <path d="M110 30 c6-6 14-11 23-13" />
          <path d="M136 31 c7-6 16-11 25-13" />
          <path d="M165 32 c7-6 16-11 26-13" />
          <!-- hoja izquierda -->
          <path
            d="M52 24 c-6 2 -14 1 -18-3 4-6 12-10 18-12 3 5 4 11 0 15z"
            fill="currentColor"
          />

          <!-- motivo central -->
          <path
            d="M260 8 c6 6 6 18 0 24 -6-6 -6-18 0-24z"
            fill="currentColor"
          />
          <circle cx="260" cy="20" r="2.2" fill="currentColor" />

          <!-- rama derecha (espejo) -->
          <path d="M508 28 C450 5, 330 5, 262 20" />
          <path d="M478 22 c-6-6 -14-9 -22-10" />
          <path d="M456 26 c-4-6 -10-10 -16-12" />
          <path d="M434 28 c-5-7 -12-12 -20-14" />
          <path d="M410 30 c-6-6 -14-11 -23-13" />
          <path d="M384 31 c-7-6 -16-11 -25-13" />
          <path d="M355 32 c-7-6 -16-11 -26-13" />
          <!-- hoja derecha -->
          <path
            d="M468 24 c6 2 14 1 18-3 -4-6 -12-10 -18-12 -3 5 -4 11 0 15z"
            fill="currentColor"
          />
        </g>
      </svg>
    </div>

    <!-- NUESTRA HISTORIA -->
    <section id="historia" class="section bg-white">
      <div class="max-w-3xl mx-auto px-6 text-center">
        <!-- Icono/medallón sutil -->
        <div
          class="mx-auto mb-4 w-12 h-12 rounded-full flex items-center justify-center bg-rose-500 text-white shadow-soft"
        >
          <!-- corazón simple -->
          <svg
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M12 21s-7.27-4.39-9.33-8.13C1.02 10.2 2.03 7.5 4.5 6.5 6.3 5.76 8.29 6.34 9.5 7.7 10.71 6.34 12.7 5.76 14.5 6.5c2.47 1 3.48 3.7 1.83 6.37C19.27 16.61 12 21 12 21z"
            />
          </svg>
        </div>

        <h2 class="font-serif text-3xl md:text-4xl">Our Match</h2>

        <p class="text-slate-700 mt-3 max-w-xl mx-auto leading-relaxed">
          Todo empezó con un <span class="font-medium">match</span>. Una
          casualidad moderna que se convirtió en destino. Dos perfiles, un gesto
          hacia la derecha y una historia que hoy celebramos con vosotros.
        </p>

        <div class="card p-4 mt-6 shadow-soft">
          <img
            src="assets/historia.jpg"
            alt="Ainhoa y Beto · Nuestro match"
            class="rounded-xl w-full object-cover"
            loading="lazy"
          />
        </div>

        <p class="text-slate-600 mt-4">
          Seguimos deslizándonos… pero siempre hacia el mismo lado.
        </p>
      </div>
    </section>

    <div class="floral-divider my-10"></div>
    <!-- LUGAR + MAPA (solo botón, sin iframe) -->
    <section class="section bg-white">
      <div
        class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-8 items-center"
      >
        <div>
          <h2 class="font-serif text-3xl mb-3">Ubicación</h2>
          <p class="text-slate-700 mb-4">
            Pazo Torre de Xunqueiras, Provincia de A Coruña. Hay aparcamiento en
            el recinto.
          </p>
          <div class="flex gap-3">
            <a
              class="btn"
              target="_blank"
              href="https://www.google.com/maps/place/Sal%C3%B3n+de+vodas+Torre+de+Xunqueiras/@42.5947127,-8.9526889,17.6z/"
            >
              Cómo llegar
            </a>
          </div>
        </div>

        <!-- Imagen/placeholder en vez de iframe -->
        <div class="card overflow-hidden">
          <img
            src="assets/map-placeholder.jpg"
            alt="Ubicación Pazo Torre de Xunqueiras"
            width="800"
            height="320"
            class="w-full h-[320px] object-cover"
            loading="lazy"
          />
        </div>
      </div>
    </section>
    <!-- INFO EXTRA -->
    <section class="section">
      <div class="max-w-5xl mx-auto px-6 grid md:grid-cols-3 gap-6">
        <div class="card p-6">
          <h3 class="font-serif text-xl mb-2">Transporte</h3>
          <p class="text-slate-700">
            Habrá bus de ida desde la iglesia de Palmeira. Podrás apuntarte en
            el formulario.
          </p>
        </div>
        <div class="card p-6">
          <h3 class="font-serif text-xl mb-2">Alergias</h3>
          <p class="text-slate-700">
            Indícalas en la confirmación para adaptar tu menú.
          </p>
        </div>
        <div class="card p-6">
          <h3 class="font-serif text-xl mb-2">Niños</h3>
          <p class="text-slate-700">
            Zona infantil con monitoras durante el banquete.
          </p>
        </div>
      </div>
    </section>
    <div class="floral-divider my-10"></div>
    <section id="galeria" class="section bg-white">
      <div class="max-w-6xl mx-auto px-6">
        <h2 class="font-serif text-3xl md:text-4xl mb-6 text-center">
          Momentos
        </h2>

        <div class="masonry">
          <!-- cada <a> abre lightbox -->
          <a href="assets/galeria/01.jpg"
            ><img src="assets/galeria/01.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/02.jpg"
            ><img src="assets/galeria/02.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/03.jpg"
            ><img src="assets/galeria/03.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/04.jpg"
            ><img src="assets/galeria/04.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/05.jpg"
            ><img src="assets/galeria/05.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/06.jpg"
            ><img src="assets/galeria/06.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/07.jpg"
            ><img src="assets/galeria/07.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/08.jpg"
            ><img src="assets/galeria/08.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/09.jpg"
            ><img src="assets/galeria/09.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/10.jpg"
            ><img src="assets/galeria/10.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/11.jpg"
            ><img src="assets/galeria/11.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/12.jpg"
            ><img src="assets/galeria/12.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/13.jpg"
            ><img src="assets/galeria/13.jpg" loading="lazy" alt=""
          /></a>
          <a href="assets/galeria/14.jpg"
            ><img src="assets/galeria/14.jpg" loading="lazy" alt=""
          /></a>
        </div>
      </div>

      <!-- Lightbox modal -->
      <div
        id="lb"
        class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50 p-4"
      >
        <button
          id="lbPrev"
          class="absolute left-4 top-1/2 -translate-y-1/2 text-white text-3xl"
        >
          ‹
        </button>
        <img
          id="lbImg"
          class="max-h-[88vh] max-w-[92vw] rounded-xl shadow-2xl"
          alt=""
        />
        <button
          id="lbNext"
          class="absolute right-4 top-1/2 -translate-y-1/2 text-white text-3xl"
        >
          ›
        </button>
        <button id="lbClose" class="absolute top-4 right-4 text-white text-2xl">
          ✕
        </button>
      </div>
    </section>

    <div class="floral-divider my-10"></div>

    <section class="section">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="font-serif text-3xl md:text-4xl mb-6">
          <span
            class="bg-clip-text text-transparent bg-gradient-to-r from-gold via-amber-500 to-pink-500"
          >
            Cuenta atrás
          </span>
        </h2>

        <div id="cd" class="countdown">
          <div class="unit">
            <div class="num" id="d">--</div>
            <div class="label">Días</div>
          </div>
          <span class="sep">•</span>
          <div class="unit">
            <div class="num" id="h">--</div>
            <div class="label">Horas</div>
          </div>
          <span class="sep">•</span>
          <div class="unit">
            <div class="num" id="m">--</div>
            <div class="label">Min</div>
          </div>
          <span class="sep">•</span>
          <div class="unit">
            <div class="num" id="s">--</div>
            <div class="label">Seg</div>
          </div>
        </div>

        <p class="mt-5 text-slate-600">
          10 de octubre de 2026 —
          <span class="font-medium">Pazo Torre de Xunqueiras</span>
        </p>
      </div>
    </section>

    <section class="section bg-white">
      <div class="max-w-4xl mx-auto px-6">
        <h2 class="font-serif text-3xl mb-6">Preguntas frecuentes</h2>
        <details class="card p-4 mb-3">
          <summary class="cursor-pointer font-medium">¿Hay parking?</summary>
          <div class="mt-2 text-slate-700">Sí, dentro del recinto.</div>
        </details>
        <details class="card p-4 mb-3">
          <summary class="cursor-pointer font-medium">
            ¿Puedo llevar niños?
          </summary>
          <div class="mt-2 text-slate-700">¡Claro! Habrá zona infantil.</div>
        </details>
        <details class="card p-4">
          <summary class="cursor-pointer font-medium">¿Regalo?</summary>
          <div class="mt-2 text-slate-700">
            Tu presencia. Si quieres, IBAN en la sección de Regalos.
          </div>
        </details>
      </div>
    </section>

    <!-- CTA FINAL -->
    <footer class="section bg-hero text-white">
      <div class="max-w-4xl mx-auto px-6 text-center text-center">
        <h3 class="font-serif text-3xl md:text-4xl font-bold">
          ¿Te vienes a celebrar?
        </h3>
        <p class="mt-3 text-champagne/90">
          Confirma tu asistencia antes del XX de X.
        </p>
        <a href="invite.html" class="btn mt-6">Confirmar asistencia</a>
      </div>
    </footer>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("assets/service-worker.js");
      }
    </script>
    <script>
      // HERO SLIDER
      (function () {
        const wrap = document.getElementById("heroSlider");
        if (!wrap) return;
        const slides = [...wrap.querySelectorAll(".hs-slide")];
        const dotsC = document.getElementById("hsDots");
        let i = 0,
          t = null,
          hover = false;

        slides.forEach((_, idx) => {
          const d = document.createElement("button");
          d.className = "hs-dot";
          d.ariaLabel = "Ir a la foto " + (idx + 1);
          d.addEventListener("click", () => go(idx, true));
          dotsC.appendChild(d);
        });
        function act() {
          slides.forEach((s, k) => s.classList.toggle("active", k === i));
          [...dotsC.children].forEach((d, k) =>
            d.classList.toggle("active", k === i)
          );
        }
        function go(n, manual = false) {
          i = (n + slides.length) % slides.length;
          act();
          if (manual) reset();
        }
        function next() {
          go(i + 1);
        }
        function reset() {
          clearInterval(t);
          t = setInterval(() => {
            if (!hover) next();
          }, 4000);
        }
        wrap.addEventListener("pointerenter", () => (hover = true));
        wrap.addEventListener("pointerleave", () => (hover = false));
        // swipe simple
        let sx = 0;
        wrap.addEventListener("pointerdown", (e) => (sx = e.clientX));
        wrap.addEventListener("pointerup", (e) => {
          const dx = e.clientX - sx;
          if (Math.abs(dx) > 40) go(i + (dx < 0 ? 1 : -1), true);
        });
        act();
        reset();
      })();

      // LIGHTBOX sencillo
      (function () {
        const grid = document.querySelector(".masonry");
        if (!grid) return;
        const lb = document.getElementById("lb"),
          img = document.getElementById("lbImg");
        const prev = document.getElementById("lbPrev"),
          next = document.getElementById("lbNext"),
          close = document.getElementById("lbClose");
        const items = [...grid.querySelectorAll("a")];
        let i = 0;

        function open(n) {
          i = n;
          img.src = items[i].getAttribute("href");
          lb.classList.remove("hidden");
          document.body.style.overflow = "hidden";
        }
        function nav(d) {
          i = (i + d + items.length) % items.length;
          img.src = items[i].getAttribute("href");
        }
        function hide() {
          lb.classList.add("hidden");
          document.body.style.overflow = "";
        }

        items.forEach((a, idx) =>
          a.addEventListener("click", (e) => {
            e.preventDefault();
            open(idx);
          })
        );
        prev.onclick = () => nav(-1);
        next.onclick = () => nav(1);
        close.onclick = hide;
        lb.addEventListener("click", (e) => {
          if (e.target === lb) hide();
        });
        window.addEventListener("keydown", (e) => {
          if (lb.classList.contains("hidden")) return;
          if (e.key === "Escape") hide();
          if (e.key === "ArrowRight") nav(1);
          if (e.key === "ArrowLeft") nav(-1);
        });
      })();
    </script>

    <script>
      const TARGET = new Date("2026-10-10T10:00:00+02:00").getTime();
      const el = {
        d: document.getElementById("d"),
        h: document.getElementById("h"),
        m: document.getElementById("m"),
        s: document.getElementById("s"),
      };
      const prev = { d: null, h: null, m: null, s: null };

      function setNum(id, val) {
        const n = String(val).padStart(id === "d" ? 1 : 2, "0"); // días sin forzar 2 dígitos si no quieres
        if (el[id].textContent === n) return;
        el[id].classList.add("fade");
        // mitad del fundido: cambio el número
        setTimeout(() => {
          el[id].textContent = n;
        }, 140);
        // fin de la animación
        setTimeout(() => {
          el[id].classList.remove("fade");
        }, 320);
      }

      function tick() {
        const diff = Math.max(0, TARGET - Date.now());
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);

        if (prev.d !== d) {
          setNum("d", d);
          prev.d = d;
        }
        if (prev.h !== h) {
          setNum("h", h);
          prev.h = h;
        }
        if (prev.m !== m) {
          setNum("m", m);
          prev.m = m;
        }
        if (prev.s !== s) {
          setNum("s", s);
          prev.s = s;
        }
      }
      tick();
      setInterval(tick, 1000);
    </script>

    <!-- Script itinerario -->
    <script>
      // Datos (usa los ids de icono del sprite: i-ceremony, i-cocktail, etc.)
      const EVENTS_V = [
        {
          time: "12:00",
          title: "Ceremonia",
          desc: "Iglesia de Palmeira",
          icon: "i-ceremony",
          kind: "ceremony",
        },
        {
          time: "13:00",
          title: "Cóctel",
          desc: "Jardines del pazo",
          icon: "i-cocktail",
          kind: "cocktail",
        },
        {
          time: "14:30",
          title: "Banquete",
          desc: "Salón principal",
          icon: "i-dinner",
          kind: "dinner",
        },
        {
          time: "19:00",
          title: "Tarta",
          desc: "Corte de tarta",
          icon: "i-cake",
          kind: "cake",
        },
        {
          time: "20:30",
          title: "Fiesta",
          desc: "Pista de baile",
          icon: "i-party",
          kind: "party",
        },
      ];

      const tl = document.getElementById("timeline");
      tl.innerHTML = EVENTS_V.map(
        (e, i) => `
    <li class="tl-item" data-kind="${e.kind}">
      <div class="tl-bullet"><svg><use href="#${e.icon}"/></svg></div>

      <button class="tl-toggle" aria-expanded="false">
        <div class="tl-head">
          <span class="tl-time">${e.time}</span>
          <span class="tl-title">${e.title}</span>
        </div>
        <svg class="chev" width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M6 9l6 6 6-6" stroke="#0B3B4F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <div class="tl-panel">
        <div class="tl-card">
          <p class="text-slate-700">${e.desc}</p>
        </div>
      </div>
    </li>
  `
      ).join("");

      // Interacción sin “vibraciones”: click para expandir, sin tooltips flotantes
      tl.querySelectorAll(".tl-toggle").forEach((btn) => {
        btn.addEventListener("click", () => {
          const item = btn.closest(".tl-item");
          const open = item.classList.toggle("open");
          btn.setAttribute("aria-expanded", open);
        });
      });
    </script>
  </body>
</html>
