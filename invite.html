<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Confirmación · Ainhoa & Beto</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-slate-50 text-slate-800">
  <div class="max-w-xl mx-auto px-6 py-10">
    <h1 class="text-3xl font-bold">Confirmar asistencia</h1>
    <!-- Solo se muestra si NO viene token en la URL -->
    <section id="tokenGate" class="mt-8 hidden max-w-md">
      <p class="mb-3 text-slate-600">
        Introduce tu <b>código de invitación</b> (lo tienes en el mensaje de los novios).
      </p>

      <form id="tokenForm" class="flex gap-2">
        <input id="tokenInput" type="text" inputmode="text" autocomplete="one-time-code"
          class="flex-1 rounded-lg border px-3 py-2" placeholder="Ej: 4b0ffb6c" maxlength="12" />
        <button type="submit" class="rounded-lg bg-blue-700 text-white px-4 py-2">
          Continuar
        </button>
      </form>

      <p id="tokenError" class="text-sm text-red-600 mt-2 hidden">
        Código inválido. Revísalo e inténtalo de nuevo.
      </p>
    </section>

    <p id="greet" class="mt-2 text-slate-600">Cargando invitación…</p>

    <form id="rsvpForm" class="mt-6 grid gap-4">
      <div>
        <label class="block text-sm font-medium">Asistencia</label>
        <div class="mt-1 flex gap-6">
          <label class="inline-flex items-center gap-2"><input type="radio" name="asistencia" value="si" required />
            Sí</label>
          <label class="inline-flex items-center gap-2"><input type="radio" name="asistencia" value="no" required />
            No</label>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium">Acompañantes</label>
        <input id="acompanantes" type="number" min="0" value="0" class="mt-1 w-full rounded-xl border p-2" />
        <p id="maxInfo" class="text-xs text-slate-500 mt-1"></p>
      </div>

      <div>
        <label class="block text-sm font-medium">Menú</label>
        <select id="menu" class="mt-1 w-full rounded-xl border p-2">
          <option value="estandar">Estándar</option>
          <option value="veg">Vegetariano</option>
          <option value="infantil">Infantil</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium">Alergias</label>
        <input id="alergias" type="text" placeholder="Marisco, gluten…" class="mt-1 w-full rounded-xl border p-2" />
      </div>

      <label class="inline-flex items-center gap-2"><input id="bus" type="checkbox" /> Me apunto al bus</label>

      <div>
        <label class="block text-sm font-medium">Pide una canción ❤️</label>
        <input id="cancion" type="text" placeholder="Título – Artista" class="mt-1 w-full rounded-xl border p-2" />
      </div>

      <button id="submitBtn" class="mt-2 rounded-xl bg-sky-700 text-white px-5 py-3 hover:bg-sky-800">
        Enviar confirmación
      </button>

      <p id="msg" class="text-sm"></p>
    </form>
  </div>
  <script type="module" src="assets/app.js"></script>
</body>

</html>